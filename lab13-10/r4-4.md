<img width="954" height="349" alt="image" src="https://github.com/user-attachments/assets/a61c6552-4aac-469d-8ac4-22f8ff515e0f" /># 6.3 Database-Enabled Multi-AV Uploader in Python (Recipe 4-4) (convert python3)
## Original Script

## Convert to python3

## Compare 3 version
| Version                       | Services                                                                     | Tech                                          | Pros                                                                                          | Cons                                                                                                                |
| ----------------------------- | ---------------------------------------------------------------------------- | --------------------------------------------- | --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| **Original (2010, Python 2)** | VirusTotal (legacy JSON), ThreatExpert, Jotti, NoVirusThanks (HTML scraping) | `httplib`/`urllib2`, custom multipart, SQLite | Worked then; simple SQLite; multi-portal coverage                                             | Deprecated endpoints; brittle HTML scraping; Python 2 only                                                          |
| **Modern Version**            | VirusTotal v3, MetaDefender Cloud, Hybrid Analysis                           | `requests`, `argparse`, robust JSON; same DB  | Current APIs; reliable JSON responses; safer than scraping; easy to extend; merged detections | Requires API keys; free-tier rate limits; HA gives behavior/verdict (not per-engine AV names); polling adds latency |

## Testing
Install necessary dependency
```
pip install requests
```
<img width="1790" height="638" alt="image" src="https://github.com/user-attachments/assets/1f0f52a4-33ba-4938-abe0-c1de94f279f7" />

Checking with `help` command
```
python avsubmit-py3.py -h
```
<img width="1864" height="661" alt="image" src="https://github.com/user-attachments/assets/e3505789-770e-4c10-b768-7541ab916b6a" />

Init database
```
python avsubmit-py3.py --init
```
<img width="703" height="85" alt="image" src="https://github.com/user-attachments/assets/171afc79-855a-41f0-9fde-12a3cfb03747" />

testing
```
python avsubmit-py3.py -f hello_world.exe  --ha --ha-key [key] --ha-ua "Falcon Sandbox" --vt --vt-key [key] -o --meta --meta-key [key]
```

<img width="954" height="349" alt="image" src="https://github.com/user-attachments/assets/2379b822-2281-4450-996d-dcfec7458f79" />

<img width="1362" height="705" alt="image" src="https://github.com/user-attachments/assets/cf03ff89-da1d-4e43-aa34-7566eeac5bb7" />

<img width="1599" height="793" alt="image" src="https://github.com/user-attachments/assets/306e442c-bfb1-4c3c-b4dc-eaa25320044d" />
